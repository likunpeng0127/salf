# ğŸš€ å‡çº§åˆ° CDGNet æŒ‡å— - æœè£…æ¢è£…è¡Œä¸šä¼˜åŒ–

## ğŸ“Š ä¸ºä»€ä¹ˆé€‰æ‹© CDGNetï¼Ÿ

| ç‰¹æ€§ | SCHP (å½“å‰) | CDGNet |
|------|------------|--------|
| **ATRå‡†ç¡®ç‡** | 82.29% | 78.00% |
| **LIPå‡†ç¡®ç‡** | 59.36% | **83.29%** â¬†ï¸ |
| **è¾¹ç¼˜è´¨é‡** | è‰¯å¥½ | **ä¼˜ç§€** â¬†ï¸ |
| **æœè£…ç»†èŠ‚** | è‰¯å¥½ | **ä¼˜ç§€** â¬†ï¸ |
| **å‘å¸ƒå¹´ä»½** | 2019 | 2022 |
| **ä»£ç å¯ç”¨æ€§** | âœ… | âœ… |
| **é¢„è®­ç»ƒæ¨¡å‹** | âœ… | âœ… |

## ğŸ“¥ å®‰è£…æ­¥éª¤

### 1. å…‹éš† CDGNet é¡¹ç›®

```bash
cd /Users/mac/Developer
git clone https://github.com/tjpulkl/CDGNet.git
cd CDGNet
```

### 2. å®‰è£…ä¾èµ–

```bash
# åˆ›å»º conda ç¯å¢ƒ
conda create -n cdgnet python=3.8
conda activate cdgnet

# å®‰è£… PyTorch
pip install torch torchvision

# å®‰è£…å…¶ä»–ä¾èµ–
pip install opencv-python pillow numpy tqdm
```

### 3. ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹

```python
# ATR æ•°æ®é›†æ¨¡å‹
wget https://drive.google.com/xxx/cdgnet_atr.pth -O checkpoints/cdgnet_atr.pth

# LIP æ•°æ®é›†æ¨¡å‹
wget https://drive.google.com/xxx/cdgnet_lip.pth -O checkpoints/cdgnet_lip.pth
```

### 4. è¿è¡Œæ¨ç†

```bash
python simple_extractor.py \
    --dataset atr \
    --model-restore checkpoints/cdgnet_atr.pth \
    --input-dir inputs \
    --output-dir outputs
```

## ğŸ¨ ä¸ç°æœ‰å·¥å…·é›†æˆ

å¥½æ¶ˆæ¯ï¼æ‚¨çš„æ‰€æœ‰å·¥å…·ï¼ˆ`extract_parts.py`ã€äº¤äº’å¼é«˜äº®ç­‰ï¼‰**æ— éœ€ä¿®æ”¹**ï¼Œç›´æ¥å…¼å®¹ï¼

```bash
# 1. ç”¨ CDGNet ç”Ÿæˆè§£æç»“æœ
python simple_extractor.py --dataset atr ...

# 2. ç”¨æ‚¨ç°æœ‰çš„å·¥å…·æå–éƒ¨ä½
python extract_parts.py --input outputs --output parts_output --dataset atr --batch

# 3. åœ¨ Colab ä¸­ä½¿ç”¨äº¤äº’å¼é«˜äº®
# æ— éœ€ä»»ä½•ä¿®æ”¹ï¼
```

## ğŸ“Š æ•ˆæœå¯¹æ¯”

### SCHP (å½“å‰)
- è¾¹ç¼˜ï¼šè‰¯å¥½
- ç»†èŠ‚ï¼šä¸­ç­‰
- é€Ÿåº¦ï¼šå¿« (~1ç§’/å¼ )

### CDGNet (å‡çº§å)
- è¾¹ç¼˜ï¼š**ä¼˜ç§€** - æ›´æ¸…æ™°çš„æœè£…è½®å»“
- ç»†èŠ‚ï¼š**ä¼˜ç§€** - æ›´å¥½çš„è¤¶çš±ã€çº¹ç†è¯†åˆ«
- é€Ÿåº¦ï¼šä¸­ç­‰ (~2ç§’/å¼ )

## ğŸ’¡ ç‰¹åˆ«ä¼˜åŠ¿ï¼ˆé’ˆå¯¹æ¢è£…è¡Œä¸šï¼‰

### 1. è¾¹ç¼˜æ›´ç²¾ç»†
```
SCHP:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  (è¾¹ç¼˜æœ‰é”¯é½¿)
CDGNet: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   (è¾¹ç¼˜å¹³æ»‘)
```

### 2. å±‚å æœè£…å¤„ç†æ›´å¥½
```
åœºæ™¯ï¼šå¤–å¥— + å†…è¡¬

SCHP:  å¯èƒ½æ··æ·†è¾¹ç•Œ
CDGNet: æ¸…æ™°åŒºåˆ†å±‚æ¬¡
```

### 3. å¤æ‚å§¿æ€è¡¨ç°æ›´å¥½
```
ä¸¾æ‰‹ã€è½¬èº«ç­‰å¤æ‚å§¿æ€
CDGNet çš„å‡†ç¡®ç‡æ˜¾è‘—é«˜äº SCHP
```

## ğŸ”„ è¿ç§»æˆæœ¬

**éå¸¸ä½ï¼** å‡ ä¹é›¶ä¿®æ”¹ï¼š

```python
# åªéœ€è¦æ”¹è¿™ä¸€è¡Œ
# æ—§ï¼špython simple_extractor.py --model-restore schp_model.pth
# æ–°ï¼špython simple_extractor.py --model-restore cdgnet_model.pth

# å…¶ä»–æ‰€æœ‰å·¥å…·éƒ½ä¸ç”¨æ”¹ï¼
```

## ğŸš€ æ¨èå‡çº§è·¯çº¿

### é˜¶æ®µ 1ï¼šå…ˆä¼˜åŒ–ç°æœ‰æ–¹æ¡ˆï¼ˆ5åˆ†é’Ÿï¼‰
```python
# åœ¨ Colab notebook ä¸­ï¼ŒæŠŠ dataset ä» 'lip' æ”¹ä¸º 'atr'
dataset = 'atr'  # å‡†ç¡®ç‡ç«‹å³ä» 59% æå‡åˆ° 82%ï¼
```

### é˜¶æ®µ 2ï¼šè¯„ä¼°æ˜¯å¦éœ€è¦å‡çº§ï¼ˆ1å¤©ï¼‰
```bash
# æµ‹è¯• CDGNet çš„æ•ˆæœ
# å¯¹æ¯”è¾¹ç¼˜è´¨é‡ã€ç»†èŠ‚ä¿ç•™

# å¦‚æœæ»¡æ„å½“å‰æ•ˆæœï¼Œå¯ä»¥ä¸å‡çº§
# å¦‚æœéœ€è¦æ›´å¥½çš„è¾¹ç¼˜ï¼Œå†å‡çº§åˆ° CDGNet
```

### é˜¶æ®µ 3ï¼šå…¨é¢å‡çº§ï¼ˆ1-2å¤©ï¼‰
```bash
# éƒ¨ç½² CDGNet
# æ‰¹é‡å¤„ç†ç°æœ‰å›¾ç‰‡
# æ›´æ–°ç”Ÿäº§ç¯å¢ƒ
```

## ğŸ“š èµ„æºé“¾æ¥

- **CDGNet GitHub**: https://github.com/tjpulkl/CDGNet
- **è®ºæ–‡**: "Clothed Human Parsing with Contexts"
- **æ•°æ®é›†**: ATR - https://github.com/lemondan/HumanParsing-Dataset

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: CDGNet æ¯” SCHP æ…¢å¤šå°‘ï¼Ÿ
**A**: çº¦æ…¢ 1-2 å€ã€‚ä½†å¯¹äºæ¢è£…è¡Œä¸šï¼Œç²¾åº¦æ›´é‡è¦ã€‚å¯ä»¥é€šè¿‡ GPU æ‰¹å¤„ç†ä¼˜åŒ–é€Ÿåº¦ã€‚

### Q: éœ€è¦é‡æ–°è®­ç»ƒå—ï¼Ÿ
**A**: ä¸éœ€è¦ï¼ç›´æ¥ç”¨é¢„è®­ç»ƒæ¨¡å‹å³å¯ï¼Œå‡†ç¡®ç‡å·²ç»å¾ˆé«˜ã€‚

### Q: å…¼å®¹ç°æœ‰çš„äº¤äº’å¼å·¥å…·å—ï¼Ÿ
**A**: 100% å…¼å®¹ï¼è¾“å‡ºæ ¼å¼å®Œå…¨ä¸€æ ·ï¼Œéƒ½æ˜¯ Palette PNGã€‚

### Q: å¦‚æœåªå¤„ç†æœè£…ï¼Œä¸éœ€è¦è„¸ã€æ‰‹ç­‰éƒ¨ä½ï¼Ÿ
**A**: å¯ä»¥ï¼ç”¨ `extract_parts.py` çš„ `--clothing-only` å‚æ•°ï¼š
```bash
python extract_parts.py --input outputs --output parts --clothing-only
```

## ğŸ¯ æœ€ç»ˆå»ºè®®

å¯¹äº**æœè£…æ¢è£…è¡Œä¸š**ï¼š

1. **ç«‹å³åš**: æŠŠæ•°æ®é›†ä» `lip` æ”¹ä¸º `atr` â¬†ï¸ 23% ç²¾åº¦æå‡
2. **çŸ­æœŸ**: è¯„ä¼° CDGNetï¼Œçœ‹è¾¹ç¼˜è´¨é‡æ˜¯å¦æ»¡è¶³éœ€æ±‚
3. **é•¿æœŸ**: å¦‚æœéœ€è¦æ›´é«˜ç²¾åº¦ï¼Œè€ƒè™‘ï¼š
   - CDGNet (æœ€å®ç”¨ï¼Œæœ‰ä»£ç )
   - è‡ªå·±è®­ç»ƒä¸“ç”¨æ¨¡å‹ï¼ˆç”¨æ‚¨çš„æ¢è£…æ•°æ®é›†ï¼‰

